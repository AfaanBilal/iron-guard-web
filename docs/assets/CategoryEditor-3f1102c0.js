import{u as B,f as j,g as n,c as L,j as R,i as t,b as r,S as v,B as m,t as u,k as q}from"./index-f282f4e2.js";import{c as z,r as F,a as G,u as H,b as J,g as K}from"./CategoryList-6c6dfd73.js";import{I as k}from"./Input-78de07b2.js";import{S as M}from"./Select-9a7777e1.js";import"./Loading-60228bca.js";import"./NoDataAvailable-f302f0c8.js";const O=u('<span class="ml-4 px-4 py-2 rounded text-xl bg-red-900 text-gray-300"></span>'),Q=u('<h1 class="px-4 py-2 my-4 text-3xl border-b border-b-slate-700"> Category</h1>'),U=u('<div class="flex-grow p-4 bg-gray-700"><div class="flex items-center py-2"><div class="px-2 text-slate-300 text-xl w-64">Name</div><div class="px-2"></div></div><div class="flex items-center py-2"><div class="px-2 text-slate-300 text-xl w-64">Description</div><div class="px-2"></div></div><div class="flex items-center py-2"><div class="px-2 text-slate-300 text-xl w-64">Parent Category</div><div class="px-2"></div></div><div class="flex items-center px-2 py-4 mt-4 border-t border-t-slate-800 gap-2"><div class="flex-grow"></div></div></div>'),V=u('<div class="flex-grow flex flex-col px-2"></div>'),ae=()=>{const f=B(),b=j(),[i,y]=n(""),[g,_]=n(""),[p,C]=n(""),[$,h]=n(""),[s,W]=n(f.uuid||""),[x]=L(()=>f.uuid||null,K);R(()=>{if(x()){const e=x();y(e.name),_(e.description),C(e.parent?.uuid||"")}});const I=async()=>{if(i().trim()===""){h("Please fill in a name.");return}let e=null;s()===""?e=await G(i(),g(),p()):e=await H(s(),i(),g(),p()),e.status===q.Success?(J(),b("/categories")):h(e.message)};return(()=>{const e=V.cloneNode(!0);return t(e,r(v,{get when(){return s()===""||!x.loading},get children(){return[(()=>{const l=Q.cloneNode(!0),o=l.firstChild;return t(l,()=>s()===""?"Add":"Edit",o),t(l,r(v,{get when(){return $()!==""},get children(){const c=O.cloneNode(!0);return t(c,$),c}}),null),l})(),(()=>{const l=U.cloneNode(!0),o=l.firstChild,c=o.firstChild,P=c.nextSibling,S=o.nextSibling,D=S.firstChild,E=D.nextSibling,w=S.nextSibling,T=w.firstChild,A=T.nextSibling,d=w.nextSibling,N=d.firstChild;return t(P,r(k,{get value(){return i()},onInput:a=>y(a.currentTarget.value)})),t(E,r(k,{get value(){return g()},onInput:a=>_(a.currentTarget.value)})),t(A,r(M,{label:"Select a category",get options(){return z()?.results.map(a=>({value:a.uuid,label:a.name}))||[]},get selected(){return p()},onChange:a=>C(a.currentTarget.value)})),t(d,r(m,{label:"Save",onClick:I}),N),t(d,r(m,{label:"Cancel",onClick:()=>window.history.back()}),N),t(d,r(v,{get when(){return s()!==""},get children(){return r(m,{kind:"danger",label:"Delete",onClick:()=>F(s(),b)})}}),null),l})()]}})),e})()};export{ae as default};
