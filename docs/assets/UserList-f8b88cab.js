import{A as i,h as d,a as c,c as S,f as U,i as s,b as l,d as $,B as h,F as N,S as A,t as u}from"./index-5e42b8e0.js";import{L}from"./Loading-ea53d3b8.js";import{N as j}from"./NoDataAvailable-2fc5541b.js";const C=async()=>(await fetch(i+"/users",d()).then(c)).json(),R=async(e,a,t,n,o)=>(await fetch(i+"/users",{method:"POST",...d(),body:JSON.stringify({role:e,firstname:a,lastname:t,email:n,password:o})}).then(c)).json(),z=async e=>(await fetch(i+"/users/"+e,d()).then(c)).json(),I=async(e,a,t,n,o,p)=>(await fetch(i+"/users/"+e,{method:"PUT",...d(),body:JSON.stringify({role:a,firstname:t,lastname:n,email:o,password:p})}).then(c)).json(),E=async e=>(await fetch(i+"/users/"+e,{method:"DELETE",...d()}).then(c)).json(),k=u('<div class="text-4xl p-4 mb-4 flex items-center gap-4">Users</div>'),T=u('<div class="overflow-x-auto w-full"><table class="w-full whitespace-nowrap rounded-lg divide-y divide-gray-300 overflow-hidden"><thead class="bg-gray-900"><tr class="text-white text-left"><th class="font-semibold text-sm uppercase px-6 py-4">Firstname</th><th class="font-semibold text-sm uppercase px-6 py-4">Lastname</th><th class="font-semibold text-sm uppercase px-6 py-4">Email</th><th class="font-semibold text-sm uppercase px-6 py-4">Role</th><th class="font-semibold text-sm uppercase px-6 py-4">Actions</th></tr></thead><tbody class="divide-y divide-gray-600 bg-slate-800"></tbody></table></div>'),O=u('<div class="flex-grow flex flex-col px-2"></div>'),P=u('<tr><td class="px-6 py-4"></td><td class="px-6 py-4"></td><td class="px-6 py-4"></td><td class="px-6 py-4"></td><td class="px-6 py-4 flex gap-2"></td></tr>'),[f,{refetch:v}]=S(C),w=(e,a)=>{window.confirm("Are you sure?")&&(E(e),v(),setTimeout(()=>a("/users",{replace:!0}),0))},B=()=>{const e=U();return(()=>{const a=O.cloneNode(!0);return s(a,l(A,{get when(){return!f.loading},get fallback(){return l(L,{})},get children(){return[(()=>{const t=k.cloneNode(!0);return t.firstChild,s(t,l($,{href:"/users/add",get children(){return l(h,{label:"Add",onClick:()=>{}})}}),null),t})(),(()=>{const t=T.cloneNode(!0),n=t.firstChild,o=n.firstChild,p=o.nextSibling;return s(p,l(N,{get each(){return f()?.results},get fallback(){return l(j,{col:5})},children:r=>(()=>{const m=P.cloneNode(!0),g=m.firstChild,x=g.nextSibling,b=x.nextSibling,y=b.nextSibling,_=y.nextSibling;return s(g,()=>r.firstname),s(x,()=>r.lastname),s(b,()=>r.email),s(y,()=>r.role),s(_,l($,{get href(){return`/users/${r.uuid}`},get children(){return l(h,{label:"Edit"})}}),null),s(_,l(h,{kind:"danger",label:"Delete",onClick:()=>w(r.uuid,e)}),null),m})()})),t})()]}})),a})()},M=Object.freeze(Object.defineProperty({__proto__:null,default:B,refetch:v,remove:w,userList:f},Symbol.toStringTag,{value:"Module"}));export{M as U,R as a,v as b,z as g,w as r,I as u};
